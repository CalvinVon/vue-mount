/*!
 * Vue-Mount.js v0.6.3
 * (c) 2020 Calvin Von
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("Vue")):"function"==typeof define&&define.amd?define(["Vue"],e):"object"==typeof exports?exports.VueMount=e(require("Vue")):t.VueMount=e(t.Vue)}("undefined"!=typeof self?self:this,(function(t){return o={},e.m=n=[function(t,e,n){var o,r,i;r=[e,n(4),n(8),n(9),n(10),n(11),n(1),n(12)],void 0===(i="function"==typeof(o=function(t,e,o,r,i,u,c,a){"use strict";var s=n(2);function f(t){var e=t||{},n=e.props,o=void 0===n?{}:n,r=e.data,i=void 0===r?{}:r,u=e.on,c=void 0===u?{}:u,s=e.watch,f=void 0===s?{}:s,p=e.target,l=void 0===p?"new":p,d=e.mode,_=void 0===d?"replace":d,m=e.root,h=void 0===m?"#app":m,y=e.rootOptions,v=void 0===y?{}:y,b=(0,a.getElement)(h),g=(0,a.isVueInstance)(b);return{rootEl:b,rootVm:g=g&&g.$root,target:l,targetElement:(0,a.getElement)(l),mode:_,propsData:o,targetData:i,targetWatch:f,targetEventListener:c,rootOptions:v}}function p(t,e){function n(e){var n=e||new Function;return function(e,r){n.apply(t,[e,r,o,t])}}if((0,a.isType)(e,"Object")){var o=t.component_instance;Object.keys(e).forEach((function(r){var i=e[r];if((0,a.isType)(i,"Object")){i.handler=n(i.handler);var u=o.$watch(r,i);t.unwatchMapper[r]=u}if((0,a.isType)(i,"Function")){var c=o.$watch(r,n(i));t.unwatchMapper[r]=c}}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.mount=function(t,e){return new l(t,e).mount()},t.default=void 0,e=s(e),o=s(o),r=s(r),i=s(i),u=s(u),c=s(c);var l=function(){function t(e,n){(0,o.default)(this,t),(0,i.default)(this,"options",void 0),(0,i.default)(this,"component_options",void 0),(0,i.default)(this,"component_constructor",void 0),(0,i.default)(this,"component_instance",void 0),(0,i.default)(this,"unwatchMapper",{}),(0,i.default)(this,"_to_mount_component",!1),(0,i.default)(this,"_to_mount_root",!1),(0,i.default)(this,"_to_create_root",!1),(0,i.default)(this,"_is_destroyed",!1),(0,i.default)(this,"_created_root_vue",void 0),(0,a.inspectVueVersion)(),this.component_options=e,this.options=f(n),this.component_constructor=c.default.extend(e)}return(0,r.default)(t,[{key:"getInstance",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=(0,a.isEmptyObject)(e)?this.options:function(t,e){return["propsData","targetData","targetWatch","targetEventListener","rootOptions"].forEach((function(n){"object"===(0,u.default)(e[n])&&(t[n]=Object.assign({},t[n],e[n]))})),t}(this.options,f(e));if(this.component_instance)return this.component_instance._isDestroyed||this.component_instance._isBeingDestroyed?(this.destroy(),this.getInstance(e)):this.component_instance;if(n.targetElement)(0,a.isVueInstance)(n.targetElement)||(0,a.findParentVm)(n.targetElement)?(this._to_mount_component=!0,this.component_instance=new this.component_constructor(n)):(this._to_mount_root=!0,this._to_create_root=!0);else{if(!(0,a.isOneOf)(n.target,"root","new"))throw new Error("[vue-mount] Can't mount to target with value [".concat(n.target,"]"));this._to_mount_root=!0,n.rootVm&&"new"!==n.target?this.component_instance=new this.component_constructor(n):this._to_create_root=!0}if(this._to_mount_root&&this._to_create_root){var o={data:n.propsData,render:function(e){return e(t.component_options,{props:n.propsData})}};(0,a.isType)(n.rootOptions,"Object")&&Object.assign(o,n.rootOptions);var r=new c.default(o);(0,a.isOneOf)(n.target,"new","root")&&n.rootEl?n.rootVm?(r.$mount(),"new"===n.target?document.body.appendChild(r.$el):n.rootEl.appendChild(r.$el)):r.$mount(n.rootEl):(r.$mount(),document.body.appendChild(r.$el)),this._created_root_vue=r,this.component_instance=r.$children[0]}return function(t,e){var n=t.component_instance;(0,a.isType)(e,"Object")&&Object.assign(n,e)}(this,n.targetData),p(this,n.targetWatch),this._attachEventListeners(n.targetEventListener),this._to_mount_root&&this._to_create_root&&this.component_instance.$emit("mount:mount"),this.component_instance&&((this.component_instance.__mount__=this).component_instance.$getMount=function(){return t}),this._is_destroyed=!1,this.component_instance}},{key:"mount",value:function(t){var n=this.component_instance=this.getInstance(t),o=this.options;if(n._isMounted)return n;if(this._to_mount_root)this._to_create_root||((0,a.checkAndRmUnmountedVm)(o.rootVm),n.$root=o.rootVm,n.$parent=o.rootVm,o.rootVm.$children=(0,e.default)(new Set([].concat((0,e.default)(o.rootVm.$children),[n]))),n.$mount(),o.rootEl.appendChild(n.$el));else{var r=(0,a.isVueInstance)(o.targetElement),i=(0,a.findParentVm)(o.targetElement);if((0,a.isRootVue)(r)&&(r=r.$children[0]),r)if("append"===o.mode)i=r;else{var u=r.$parent;r.$emit("mount:destroy"),r.$destroy(),(n.$parent=u)&&(u.$children=(0,e.default)(new Set([].concat((0,e.default)(u.$children),[n]))))}i&&(i.$children=(0,e.default)(new Set([].concat((0,e.default)(i.$children),[n]))),n.$parent=i,n.$root=i.$root),"append"===o.mode?(n.$mount(),o.targetElement.appendChild(n.$el)):(n.$mount(o.targetElement),(0,a.checkAndRmUnmountedVm)(i))}return function(t){t._routerRoot=t.$parent&&t.$parent._routerRoot||t}(n),function(t){t.$store=t.$parent.$store}(n),n.$el.__mount__=this,n.$emit("mount:mount"),n}},{key:"set",value:function(t){var e=this.component_instance=this.getInstance(),n=t||{},o=n.props,r=void 0===o?{}:o,i=n.data,u=void 0===i?{}:i,c=n.on,s=void 0===c?{}:c,f=n.watch,l=void 0===f?{}:f;(0,a.isType)(u,"Object")&&Object.assign(e,u),p(this,l);var d=e.$props||{};return this._to_create_root&&(d=this._created_root_vue),(0,a.isType)(r,"Object")&&Object.assign(d,r),this._attachEventListeners(s),this}},{key:"destroy",value:function(){var t=this.component_instance;return t.$emit("mount:destroy"),t.$destroy(),t.$el&&t.$el.parentNode.removeChild(t.$el),this.component_instance=null,this._to_mount_component=!1,this._to_mount_root=!1,this._to_create_root=!1,this._created_root_vue=null,this._is_destroyed=!0,this.unwatchMapper={},t}},{key:"getDom",value:function(){return this.component_instance&&this.component_instance.$el}},{key:"_attachEventListeners",value:function(t){var e=this;(0,a.isType)(t,"Object")&&Object.keys(t).forEach((function(n){var o,r=t[n],i=e.component_instance.$on;if((0,a.isType)(r,"Function"))o=r;else if((0,a.isType)(r,"Object")){var u=r.handler,c=r.once;void 0!==c&&c&&(i=e.component_instance.$once),o=u}i.call(e.component_instance,n,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o.apply(e,[].concat(n,[e.component_instance,e]))}))}))}}]),t}(),d=l;t.default=d})?o.apply(e,r):o)||(t.exports=i)},function(e,n){e.exports=t},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){var o,r,i;r=[e,n(0)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var o=n(13);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"mount",{enumerable:!0,get:function(){return e.mount}}),t.default=void 0;var r=(e=o(e)).default;t.default=r})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o=n(5),r=n(6),i=n(7);t.exports=function(t){return o(t)||r(t)||i()}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=o=function(t){return n(t)}:t.exports=o=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},o(e)}t.exports=o},function(t,e,n){var o,r,i;r=[e,n(1),n(0)],void 0===(i="function"==typeof(o=function(t,e,o){"use strict";var r=n(2);function i(t,e){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}function u(t){return t&&t.__vue__&&t.__vue__ instanceof e.default&&t.__vue__}function c(t){if(t&&t.$children[0]&&t.$children[0].$el===t.$el)return!0;return!1}function a(t){return t?t instanceof e.default?t.$el:t instanceof Element?t:"string"==typeof t?document.querySelector(t):t.elm||null:null}Object.defineProperty(t,"__esModule",{value:!0}),t.inspectVueVersion=function(){2!==Number(e.default.version.split(".")[0])&&console.error("[vue-mount] Only the 2.x version of Vue is guaranteed to be compatible, please use Vue.js 2.x instead.")},t.isOneOf=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];var r=n;return"Array"===i(n[0])&&(r=n[0]),r.some((function(e){return e===t}))},t.isType=i,t.isEmptyObject=function(t){return i(t,"Object")&&!Object.keys(t).length},t.isVueInstance=u,t.isRootVue=c,t.isMountInstance=function(t){return t.__mount__&&t.__mount__ instanceof o.default&&t.__mount__},t.getElement=a,t.findParentVm=function(t){var e,n,o=a(t);if(!o)return null;if(n=u(o))return n.$parent;for(var r=o.parentNode;r&&!(e=u(r));)r=r.parentNode;return c(e)?e.$children[0]:e},t.checkAndRmUnmountedVm=function(t){if(t){var e=t.$el;t.$children=t.$children.filter((function(t){var n,o;return o=t.$el,!!((n=e).contains?n!=o&&n.contains(o):16&n.compareDocumentPosition(arg))||(t.$emit("mount:destroy"),t.$destroy(),!1)}))}},e=r(e),o=r(o)})?o.apply(e,r):o)||(t.exports=i)},function(t,e){t.exports=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};o.get||o.set?Object.defineProperty(e,n,o):e[n]=t[n]}return e.default=t,e}}],e.c=o,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(e){return t[e]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3);function e(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return n[t].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n,o}));